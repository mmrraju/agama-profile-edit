{
	"nodes": [
		{
			"id": "startNode-4fae783f-7493-4e93-9187-f28808185be9",
			"type": "startNode",
			"sourcePosition": "right",
			"position": {
				"x": 30,
				"y": 30
			},
			"deletable": false,
			"data": {
				"id": "startNode-4fae783f-7493-4e93-9187-f28808185be9",
				"type": "startNode",
				"position": {
					"x": 30,
					"y": 40
				},
				"agamaData": {
					"isTopLevelFlow": true,
					"basepath": "",
					"configParams": "{}",
					"nodeIcon": "material-symbols:line-start-square",
					"timeout": "",
					"inputs": "",
					"configs": "",
					"flowname": "org.gluu.agama.profile.edit",
					"displayName": "Profile Edit",
					"creationDate": "11/06/2025",
					"hasComment": true,
					"comment": ""
				}
			},
			"measured": {
				"width": 170,
				"height": 124
			},
			"selected": false
		},
		{
			"id": "logNode-d3e74e0b-b984-4366-a8bf-8b5b496def79",
			"type": "logNode",
			"position": {
				"x": 280,
				"y": 30
			},
			"data": {
				"id": "logNode-d3e74e0b-b984-4366-a8bf-8b5b496def79",
				"type": "logNode",
				"position": {
					"x": 280,
					"y": 30
				},
				"previousNodeId": "startNode-4fae783f-7493-4e93-9187-f28808185be9",
				"agamaData": {
					"logMessage": "\"Profile edit flow starting...\"",
					"logLevel": "info",
					"nodeIcon": "octicon:log-16",
					"nodeColor": "",
					"titleColor": "",
					"descColor": "",
					"displayName": "",
					"hasComment": true,
					"comment": "Profile edit flow starting"
				}
			},
			"measured": {
				"width": 170,
				"height": 124
			},
			"selected": false
		},
		{
			"id": "assignmentNode-af780cf8-7480-42b6-b47a-bad96d0c6043",
			"type": "assignmentNode",
			"position": {
				"x": 530,
				"y": 30
			},
			"data": {
				"id": "assignmentNode-af780cf8-7480-42b6-b47a-bad96d0c6043",
				"type": "assignmentNode",
				"position": {
					"x": 530,
					"y": 30
				},
				"previousNodeId": "logNode-d3e74e0b-b984-4366-a8bf-8b5b496def79",
				"agamaData": {
					"assignments": [
						{
							"variableTypeCheck": true,
							"assignmentExpression": "{}",
							"assignedVariableName": "uiFeedback"
						},
						{
							"variableTypeCheck": true,
							"assignmentExpression": "{}",
							"assignedVariableName": "emailObj"
						}
					],
					"nodeIcon": "material-symbols:equal",
					"nodeColor": "",
					"titleColor": "",
					"descColor": "",
					"displayName": "",
					"hasComment": true,
					"comment": "Create  variable for UI feedback"
				}
			},
			"measured": {
				"width": 170,
				"height": 124
			},
			"selected": false
		},
		{
			"id": "repeatNode-a9668e20-8e81-4458-b76f-32ad43866aef",
			"type": "repeatNode",
			"position": {
				"x": 780,
				"y": 30
			},
			"data": {
				"id": "repeatNode-a9668e20-8e81-4458-b76f-32ad43866aef",
				"type": "repeatNode",
				"position": {
					"x": 780,
					"y": 30
				},
				"previousNodeId": "assignmentNode-af780cf8-7480-42b6-b47a-bad96d0c6043",
				"agamaData": {
					"nodeIcon": "material-symbols:event-repeat-outline-rounded",
					"maxIteration": "6",
					"maxIterationVariableName": "",
					"nodeColor": "",
					"titleColor": "",
					"descColor": "",
					"displayName": "",
					"hasComment": true,
					"comment": "Iterate x times max"
				}
			},
			"measured": {
				"width": 170,
				"height": 124
			},
			"selected": false
		},
		{
			"id": "rrfNode-c99ad702-0109-4a85-9332-a7b64ba8c051",
			"type": "rrfNode",
			"position": {
				"x": 1030,
				"y": 280
			},
			"data": {
				"id": "rrfNode-c99ad702-0109-4a85-9332-a7b64ba8c051",
				"type": "rrfNode",
				"position": {
					"x": 1030,
					"y": 280
				},
				"previousNodeId": "repeatNode-a9668e20-8e81-4458-b76f-32ad43866aef",
				"branching": "repeat",
				"agamaData": {
					"assignments": [],
					"nodeIcon": "ph:globe-simple",
					"templatePath": "mail.ftlh",
					"asssignedVariableName": "userInput",
					"nodeColor": "",
					"titleColor": "",
					"descColor": "",
					"displayName": "",
					"hasComment": true,
					"comment": "Retrieve user mail  from UI",
					"arguments": [
						"emailObj"
					]
				}
			},
			"measured": {
				"width": 170,
				"height": 124
			},
			"selected": false
		},
		{
			"id": "logNode-7f44527e-5cba-4a7b-980c-4366d46d29c9",
			"type": "logNode",
			"position": {
				"x": 1030,
				"y": 30
			},
			"data": {
				"id": "logNode-7f44527e-5cba-4a7b-980c-4366d46d29c9",
				"type": "logNode",
				"position": {
					"x": 1030,
					"y": 30
				},
				"previousNodeId": "repeatNode-a9668e20-8e81-4458-b76f-32ad43866aef",
				"branching": "continue",
				"agamaData": {
					"logMessage": "\"Maximum attempt reached\"",
					"logLevel": "info",
					"nodeIcon": "octicon:log-16",
					"nodeColor": "",
					"titleColor": "",
					"descColor": "",
					"displayName": "",
					"hasComment": true,
					"comment": "Maximum attempt reached"
				}
			},
			"measured": {
				"width": 170,
				"height": 124
			},
			"selected": false
		},
		{
			"id": "callNode-dbba924f-fc79-4a52-b22a-4ea63bdd8a49",
			"type": "callNode",
			"position": {
				"x": 1280,
				"y": 280
			},
			"data": {
				"id": "callNode-dbba924f-fc79-4a52-b22a-4ea63bdd8a49",
				"type": "callNode",
				"position": {
					"x": 1280,
					"y": 280
				},
				"previousNodeId": "rrfNode-c99ad702-0109-4a85-9332-a7b64ba8c051",
				"agamaData": {
					"javaClassName": "org.gluu.agama.jans.UserProfileUpdate",
					"javaMethodName": "getInstance",
					"javaVariableName": "",
					"exceptionVariableField": "",
					"callType": "Call static method",
					"arguments": [],
					"nodeIcon": "material-symbols:code",
					"nodeColor": "",
					"titleColor": "",
					"descColor": "",
					"displayName": "",
					"hasComment": true,
					"comment": "create an instance of user profile update service",
					"asssignedVariableName": "userProfileUpdateService"
				}
			},
			"measured": {
				"width": 170,
				"height": 124
			},
			"selected": false
		},
		{
			"id": "callNode-78117200-24f6-4da6-bc18-f42447f0656f",
			"type": "callNode",
			"position": {
				"x": 1530,
				"y": 280
			},
			"data": {
				"id": "callNode-78117200-24f6-4da6-bc18-f42447f0656f",
				"type": "callNode",
				"position": {
					"x": 1530,
					"y": 280
				},
				"previousNodeId": "callNode-dbba924f-fc79-4a52-b22a-4ea63bdd8a49",
				"agamaData": {
					"javaClassName": "",
					"javaMethodName": "getUserEntity",
					"javaVariableName": "userProfileUpdateService",
					"exceptionVariableField": "E",
					"callType": "Call method on instance",
					"arguments": [
						"userInput.mail"
					],
					"nodeIcon": "material-symbols:code",
					"nodeColor": "",
					"titleColor": "",
					"descColor": "",
					"displayName": "",
					"hasComment": true,
					"comment": "Check user already exist or not with mail",
					"asssignedVariableName": "user"
				}
			},
			"measured": {
				"width": 170,
				"height": 124
			},
			"selected": false
		},
		{
			"id": "whenNode-9d33dc21-e01f-43e3-8a6e-0ae42d5130cd",
			"type": "whenNode",
			"position": {
				"x": 1780,
				"y": 280
			},
			"data": {
				"id": "whenNode-9d33dc21-e01f-43e3-8a6e-0ae42d5130cd",
				"type": "whenNode",
				"position": {
					"x": 1780,
					"y": 280
				},
				"previousNodeId": "callNode-78117200-24f6-4da6-bc18-f42447f0656f",
				"agamaData": {
					"variableField": "",
					"valueField": "",
					"conditionInputField": "",
					"conditions": [
						{
							"variable": "user.empty",
							"operator": "is not",
							"dataValue": "true",
							"combinator": "none"
						}
					],
					"nodeIcon": "ph:swap",
					"nodeColor": "",
					"titleColor": "",
					"descColor": "",
					"displayName": "",
					"hasComment": true,
					"comment": "If user found"
				}
			},
			"measured": {
				"width": 110,
				"height": 60
			},
			"selected": false
		},
		{
			"id": "assignmentNode-e53fd5b1-734e-4d2f-841a-a84433be07d0",
			"type": "assignmentNode",
			"position": {
				"x": 2030,
				"y": 30
			},
			"data": {
				"id": "assignmentNode-e53fd5b1-734e-4d2f-841a-a84433be07d0",
				"type": "assignmentNode",
				"position": {
					"x": 2030,
					"y": 30
				},
				"previousNodeId": "whenNode-9d33dc21-e01f-43e3-8a6e-0ae42d5130cd",
				"branching": "otherwise",
				"agamaData": {
					"assignments": [
						{
							"variableTypeCheck": true,
							"assignmentExpression": "\"User not found\"",
							"assignedVariableName": "mailObj.errorMessage"
						}
					],
					"nodeIcon": "material-symbols:equal",
					"nodeColor": "",
					"titleColor": "",
					"descColor": "",
					"displayName": "",
					"hasComment": true,
					"comment": "User not found"
				}
			},
			"measured": {
				"width": 170,
				"height": 124
			},
			"selected": true
		}
	],
	"edges": [
		{
			"id": "startNode-4fae783f-7493-4e93-9187-f28808185be9-logNode-d3e74e0b-b984-4366-a8bf-8b5b496def79",
			"type": "default",
			"source": "startNode-4fae783f-7493-4e93-9187-f28808185be9",
			"target": "logNode-d3e74e0b-b984-4366-a8bf-8b5b496def79",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_startNode-4fae783f-7493-4e93-9187-f28808185be9"
		},
		{
			"id": "logNode-d3e74e0b-b984-4366-a8bf-8b5b496def79-assignmentNode-af780cf8-7480-42b6-b47a-bad96d0c6043",
			"type": "default",
			"source": "logNode-d3e74e0b-b984-4366-a8bf-8b5b496def79",
			"target": "assignmentNode-af780cf8-7480-42b6-b47a-bad96d0c6043",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-d3e74e0b-b984-4366-a8bf-8b5b496def79"
		},
		{
			"id": "assignmentNode-af780cf8-7480-42b6-b47a-bad96d0c6043-repeatNode-a9668e20-8e81-4458-b76f-32ad43866aef",
			"type": "default",
			"source": "assignmentNode-af780cf8-7480-42b6-b47a-bad96d0c6043",
			"target": "repeatNode-a9668e20-8e81-4458-b76f-32ad43866aef",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_assignmentNode-af780cf8-7480-42b6-b47a-bad96d0c6043"
		},
		{
			"id": "repeatNode-a9668e20-8e81-4458-b76f-32ad43866aef-rrfNode-c99ad702-0109-4a85-9332-a7b64ba8c051",
			"type": "default",
			"source": "repeatNode-a9668e20-8e81-4458-b76f-32ad43866aef",
			"target": "rrfNode-c99ad702-0109-4a85-9332-a7b64ba8c051",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "repeat",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_repeatNode-a9668e20-8e81-4458-b76f-32ad43866aef_repeat"
		},
		{
			"id": "repeatNode-a9668e20-8e81-4458-b76f-32ad43866aef-logNode-7f44527e-5cba-4a7b-980c-4366d46d29c9",
			"type": "default",
			"source": "repeatNode-a9668e20-8e81-4458-b76f-32ad43866aef",
			"target": "logNode-7f44527e-5cba-4a7b-980c-4366d46d29c9",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "continue",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_repeatNode-a9668e20-8e81-4458-b76f-32ad43866aef_continue"
		},
		{
			"id": "rrfNode-c99ad702-0109-4a85-9332-a7b64ba8c051-callNode-dbba924f-fc79-4a52-b22a-4ea63bdd8a49",
			"type": "default",
			"source": "rrfNode-c99ad702-0109-4a85-9332-a7b64ba8c051",
			"target": "callNode-dbba924f-fc79-4a52-b22a-4ea63bdd8a49",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_rrfNode-c99ad702-0109-4a85-9332-a7b64ba8c051"
		},
		{
			"id": "callNode-dbba924f-fc79-4a52-b22a-4ea63bdd8a49-callNode-78117200-24f6-4da6-bc18-f42447f0656f",
			"type": "default",
			"source": "callNode-dbba924f-fc79-4a52-b22a-4ea63bdd8a49",
			"target": "callNode-78117200-24f6-4da6-bc18-f42447f0656f",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_callNode-dbba924f-fc79-4a52-b22a-4ea63bdd8a49"
		},
		{
			"id": "callNode-78117200-24f6-4da6-bc18-f42447f0656f-whenNode-9d33dc21-e01f-43e3-8a6e-0ae42d5130cd",
			"type": "default",
			"source": "callNode-78117200-24f6-4da6-bc18-f42447f0656f",
			"target": "whenNode-9d33dc21-e01f-43e3-8a6e-0ae42d5130cd",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_callNode-78117200-24f6-4da6-bc18-f42447f0656f"
		},
		{
			"id": "whenNode-9d33dc21-e01f-43e3-8a6e-0ae42d5130cd-assignmentNode-e53fd5b1-734e-4d2f-841a-a84433be07d0",
			"type": "default",
			"source": "whenNode-9d33dc21-e01f-43e3-8a6e-0ae42d5130cd",
			"target": "assignmentNode-e53fd5b1-734e-4d2f-841a-a84433be07d0",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "otherwise",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_whenNode-9d33dc21-e01f-43e3-8a6e-0ae42d5130cd_otherwise"
		}
	],
	"viewport": {
		"x": -1438,
		"y": 59,
		"zoom": 1
	}
}